---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "KLDSISTJ2N28iAjXzeDQ4ukM6yhx7TbuZ4KrfgHPGim3Ae/fpnZArCqqlt4SxwLTruGaa7YyHE4APKgP38X2YJPPOI6yrLrhRy4ZGtOEe93B9yt1zc+TPIo8ni2XlT30h6CquhmHBSLP7O+TJkKHiWYwXF4OTu+dYOHrkv05Jc424GXSkd90K0Iz/4VqFPSoz6AFmljwuG8nRHhwYB6HbsX9XKOme8m6gjXuplfNKySY3QJt2o6oe+03CfFgNaOw0gK+r+qN4zCMCTo8G+nv6rXfbReelYfn2++jMhEuF17YEHVzklwptHZ/5sWvVQxb9/ZGsQ7UppSg1Udb5zf3XqARa2g+kRH8zwE3SHvcmSUbQ5BO3PpQCsGhfWz2uIz72Qa4yNKyqItC7NbY58vQKSsTNSgrBDQKBQflP0BisX0WxzIXFu7VyQLKTW4XMeaVRI4IKcmthfhEhADeqCOTMShOwPQua7GIrkod9gUK/IzeiQqNhE+LIihdnSpMpfoMvq9JMV/QwpZLjhSJWetOvUBNSS8iJnHb8BGAQKBQ2kgDQIqfkZFjG+ujC6b096xgVv0baQnNMJiImCP4mVqwVJA7oTYaq78LuoULT/XmfuEGKO/V/TiHEFRCWmzQe7lIZsD3pXCAEOkyv+aL6Fi7PHqsnLZKw5KAQDHV9fRNOkk="
  email: false

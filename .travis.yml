---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    rooms:
      - secure: "I8Ati4kKZ6/U1A6TokNiZswtdXpUp3Nfm4PNL2ocrgWVQKcVeAPNZq0L7CVoZSlDcpkFOCfdElf/RicI3Meq5fH9UHjQHa0mDB8grGLmULLohgAEdrc20nBPvtSmoqC2RMxTC+/ovd1BLjbTLMRmFRZPngq2sqCbiVBtnJH0lpTnx981BMnW4Lrz5e62aoobS+qoX04o4o1PrVEwBZvBV4zS7o+2mZb7hJ1w8nyTCI0WzLjX/9sR2SVRr2gYkLZh9BS3/oibQRCX6VeZRJL+SGUcUAAjwH6XQ4XGYdMtrxI36zM7bCMRtiqG9/Sg4uEegzm+KPZAT8/aMshhortz/uUBuySULySn3vbcknEHZXkLohlybRvuV/U6rL4r+CGG6B2f/+ZRzluQKEl//fq46TA7Ih7XxfUDSlZyXogEv3EPN79LNsMidaufxJQPY3GXXRny8B21PSkGrLnTbfrxO6qnPvzh339Q1MpWvmkxb37XhTLVPDntQAizu1nZZvOsxagkrsMzfojkRKh3B3Uj+hSgdHYNTaDwVTOBVTQs5ju7hOOvYojj9zYW7Yr8RX5EBoJTkC/WWGh/yW5xksJ1asJaRBoVw3nOrHHC2FwZ10bl0psJiS4zBzUgmdd22lD1SP9e9DQ6xbl1BZ2qhc03AYavvmbJfTffDa10KbdLidk="
  email: false
